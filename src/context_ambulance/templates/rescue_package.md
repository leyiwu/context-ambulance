# Context Rescue Package Template

*Generated by Context Ambulance on {{ timestamp }}*

---

## üéØ ORIGINAL GOAL

{{ goal }}

---

## üìç CURRENT STATE

{% if current_state %}
{{ current_state }}
{% else %}
*Current state not clearly identified*
{% endif %}

---

## üö® THE BLOCKER

**Issue:** {{ blocker }}

{% if loops_detected %}
**Detected Patterns:**
{% for pattern in loops_detected %}
- **{{ pattern.pattern_type.replace('_', ' ').title() }}**: {{ pattern.description }} ({{ pattern.occurrences }} occurrences)
{% endfor %}
{% endif %}

---

## üí° KEY INSIGHTS PRESERVED

{% if key_insights %}
{% for insight in key_insights %}
{{ loop.index }}. {{ insight }}
{% endfor %}
{% else %}
*No specific insights identified*
{% endif %}

---

## üßπ WHAT WAS REMOVED

{% if stats %}
- **{{ stats.total_removed }}** messages removed ({{ stats.reduction_percent }}% reduction)
- **{{ stats.errors_removed }}** repetitive error messages
- **{{ stats.apologies_removed }}** apology loops
- **{{ stats.code_blocks_removed }}** redundant code attempts
{% else %}
*Sanitization statistics not available*
{% endif %}

---

## üìã RECOMMENDED NEXT STEPS

{% if recommended_steps %}
{% for step in recommended_steps %}
{{ loop.index }}. {{ step }}
{% endfor %}
{% else %}
1. Review the original goal and verify all assumptions
2. Consider alternative approaches not yet attempted
3. Consult relevant documentation or examples
{% endif %}

---

## üîÑ INSTRUCTION FOR NEXT LLM

You are a **senior engineer** taking over a stalled project from a colleague.

The previous session became stuck in a loop‚Äîthe AI repeated failed attempts without making progress. Your colleague has cleaned up the conversation and provided you with the essential context above.

**Your Task:**
1. Read the goal, current state, and blocker carefully
2. **Ignore the failed approaches** that were removed
3. Think from **first principles**
4. Propose a **fresh solution** that avoids the patterns that caused the loop

**Important:** Do NOT repeat the removed patterns listed above. If you find yourself going in circles, stop and try a fundamentally different approach.

---

## üìé CLEANED CONVERSATION

{% if cleaned_messages %}
{% for message in cleaned_messages %}
### {{ message.role.value.upper() }}{% if message.timestamp %} ({{ message.timestamp.strftime('%H:%M:%S') }}){% endif %}

{{ message.content }}

---

{% endfor %}
{% else %}
*Conversation history was too degraded to preserve meaningfully. Focus on the goal, blocker, and insights above.*
{% endif %}

---

## ‚ÑπÔ∏è About This Rescue Package

This file was generated by [Context Ambulance](https://github.com/leyiwu/context-ambulance) - the "Eject Button" for LLM doom loops.

**Usage:**
1. Copy this entire file
2. Start a fresh conversation with ANY LLM (Gemini, Claude, GPT-4, etc.)
3. Paste this content as your first message
4. Let the fresh LLM solve your problem without the poisoned context

**Tip:** If you get stuck again, run Context Ambulance on the new conversation to create an updated rescue package.
